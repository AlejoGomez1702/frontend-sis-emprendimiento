<div class="example-header">
    <div class="title-list">
      Listado de tests realizados por usuarios
    </div>
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Buscar...">
    </mat-form-field>
  </div>
  
  <div class="example-container mat-elevation-z8">
  
    <mat-table [dataSource]="dataSource" matSort>
  
      <!-- Nombre del test -->
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.name}} </mat-cell>
      </ng-container>
  
      <!-- Apellidos -->
      <ng-container matColumnDef="type">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Tipo </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.type}} </mat-cell>
      </ng-container>
  
      <!-- Fecha de creación del test -->
      <ng-container matColumnDef="updated_at">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Fecha Creación </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.updated_at}} </mat-cell>
      </ng-container>
  
      <!-- Nombre del usuario -->
      <ng-container matColumnDef="user.name">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Nombres </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.user.name}} </mat-cell>
      </ng-container>
  
      <!-- Apellidos del usuario -->
      <ng-container matColumnDef="user.surname">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Apellidos </mat-header-cell>
        <mat-cell *matCellDef="let row">  
            {{row.user.surname}}
        </mat-cell>
      </ng-container>

      <!-- Correo Electrónico -->
      <ng-container matColumnDef="user.email">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Correo </mat-header-cell>
        <mat-cell *matCellDef="let row"> {{row.user.email}} </mat-cell>
      </ng-container>
  
      <!-- Estado -->
      <ng-container matColumnDef="user.state">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Estado </mat-header-cell>
          <mat-cell *matCellDef="let row">
            <!-- <ng-container *ngIf="row.state == 1"> -->
              <div *ngIf="row.user.state == 1">
                <div style="color: green;" >ACTIVO</div>
              </div>
            <!-- </ng-container>  -->
            <!-- <ng-container *ngIf="row.state == 0"> -->
              <div *ngIf="row.user.state == 0">   
                <div style="color: red;">INACTIVO</div>
              </div>
            <!-- </ng-container>  -->
          </mat-cell>
      </ng-container>
  
      <!-- Acciones -->
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef mat-sort-header> Acciones </mat-header-cell>
        <mat-cell *matCellDef="let row">  
          <!-- <a class="btn"><i class="fa fa-power-off" aria-hidden="true"></i></a> -->
          <button title="Ver Resultados" class="btn" (click)="showTest(row.id)"><i class="fa fa-eye" aria-hidden="true"></i></button>
          <!-- <a routerLink="/dashboard/clients/edit/{{row.id}}" class="btn"><i class="fa fa-pencil" aria-hidden="true"></i></a> -->
          <button title="Eliminar Test" class="btn" (click)="deleteTest(row.id)"><i class="fa fa-trash" aria-hidden="true"></i></button>
        </mat-cell>
      </ng-container>
  
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;">
      </mat-row>
    </mat-table>
  
    <mat-paginator [pageSizeOptions]="[10, 15, 20, 30]"></mat-paginator>
</div>